---
import { getOffers } from "@/utils/sanity";
import ProductCard from "./ProductCard.astro";
import ButtonLink from "../shared/ButtonLink.astro";

const offers = await getOffers();
---

{
  offers && offers.length > 0 && (
    <section id="ofertas" class="w-full py-10 text-black  md:py-16">
      <div class="container flex flex-col items-center justify-center">
        <p class="mb-2 p">Descubre las mejores</p>
        <h2 class="mb-10 h2">Ofertas</h2>
        <div class="grid w-full grid-cols-1 gap-12 md:grid-cols-2 xl:grid-cols-3 justify-items-center">
          {offers.map((d) => (
            <ProductCard {...d} />
          ))}
        </div>

        <ButtonLink
          href="/ofertas"
          text="Ver todas las ofertas"
          class="mt-10 bg-orange-500 hover:bg-orange-800"
        />
      </div>
    </section>
  )
}
